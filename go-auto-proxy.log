2025/03/11 09:46:30 Initializing go-auto-proxy...
2025/03/11 09:46:30 Current directory permissions verified.
2025/03/11 09:46:30 Current user: fanice (UID: 1001)
2025/03/11 09:46:30 User has passwordless sudo privileges, proceeding...
2025/03/11 09:46:30 System Info: {OS:linux Version:Ubuntu 24.04.2 LTS Architecture:amd64 ExternalIP:35.185.174.224 InternalIP:10.140.0.5 ZeroTier:{NetworkID:} AcmeSH:{Path:/home/fanice/.acme.sh/acme.sh Provider:letsencrypt} TrojanGo:{Port:443 Password:5636f27bd3c05243691396f1fea0db28} Fail2Ban:{MonitoredItems:[ssh]}}
2025/03/11 09:46:30 ZeroTier Network ID:  (update config.json to join a network)
2025/03/11 09:46:30 acme.sh Path: /home/fanice/.acme.sh/acme.sh, Provider: letsencrypt
2025/03/11 09:46:30 trojan-go Port: 443, Password: 5636f27bd3c05243691396f1fea0db28
2025/03/11 09:46:30 fail2ban Monitored Items: [ssh]
2025/03/11 09:46:30 Directory trojan-go already exists.
2025/03/11 09:46:32 Removing existing trojan-go directory...
2025/03/11 09:46:32 trojan-go directory removed.
2025/03/11 09:46:32 Updating package index...
2025/03/11 09:46:40 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Hit:1 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble InRelease
Get:2 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble-updates InRelease [126 kB]
Hit:3 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble-backports InRelease
Get:4 http://download.zerotier.com/debian/jammy jammy InRelease [20.5 kB]
Hit:5 https://packages.cloud.google.com/apt google-cloud-ops-agent-noble-2 InRelease
Hit:6 http://security.ubuntu.com/ubuntu noble-security InRelease
Fetched 147 kB in 1s (117 kB/s)
Reading package lists...
Building dependency tree...
Reading state information...
1 package can be upgraded. Run 'apt list --upgradable' to see it.
2025/03/11 09:46:40 Installing unzip...
2025/03/11 09:46:41 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
unzip is already the newest version (6.0-28ubuntu4.1).
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
2025/03/11 09:46:41 Creating trojan-go directory...
2025/03/11 09:46:41 Downloading trojan-go...
2025/03/11 09:46:43 Command output: --2025-03-11 09:46:41--  https://github.com/p4gefau1t/trojan-go/releases/download/v0.10.6/trojan-go-linux-amd64.zip
Resolving github.com (github.com)... 20.27.177.113
Connecting to github.com (github.com)|20.27.177.113|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/248025303/ca7ab69d-e322-4ac4-8f5f-efd0cab6c900?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250311%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250311T014642Z&X-Amz-Expires=300&X-Amz-Signature=dbbbb4668dbc2f6b3b51de7e97c244b7619feb3df8be9fdd9c96ae5b7160f4b7&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Dtrojan-go-linux-amd64.zip&response-content-type=application%2Foctet-stream [following]
--2025-03-11 09:46:42--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/248025303/ca7ab69d-e322-4ac4-8f5f-efd0cab6c900?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250311%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250311T014642Z&X-Amz-Expires=300&X-Amz-Signature=dbbbb4668dbc2f6b3b51de7e97c244b7619feb3df8be9fdd9c96ae5b7160f4b7&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Dtrojan-go-linux-amd64.zip&response-content-type=application%2Foctet-stream
Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.111.133, 185.199.110.133, ...
Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 7918291 (7.6M) [application/octet-stream]
Saving to: ‘trojan-go/trojan-go-linux-amd64.zip’

     0K .......... .......... .......... .......... ..........  0%  969K 8s
    50K .......... .......... .......... .......... ..........  1% 3.76M 5s
   100K .......... .......... .......... .......... ..........  1% 1.76M 5s
   150K .......... .......... .......... .......... ..........  2% 5.84M 4s
   200K .......... .......... .......... .......... ..........  3% 7.50M 3s
   250K .......... .......... .......... .......... ..........  3% 2.25M 3s
   300K .......... .......... .......... .......... ..........  4% 8.34M 3s
   350K .......... .......... .......... .......... ..........  5% 9.36M 3s
   400K .......... .......... .......... .......... ..........  5% 12.0M 2s
   450K .......... .......... .......... .......... ..........  6% 14.6M 2s
   500K .......... .......... .......... .......... ..........  7% 13.0M 2s
   550K .......... .......... .......... .......... ..........  7% 3.25M 2s
   600K .......... .......... .......... .......... ..........  8% 12.1M 2s
   650K .......... .......... .......... .......... ..........  9% 14.7M 2s
   700K .......... .......... .......... .......... ..........  9% 19.5M 2s
   750K .......... .......... .......... .......... .......... 10% 15.2M 2s
   800K .......... .......... .......... .......... .......... 10% 20.3M 1s
   850K .......... .......... .......... .......... .......... 11% 25.0M 1s
   900K .......... .......... .......... .......... .......... 12% 49.5M 1s
   950K .......... .......... .......... .......... .......... 12% 15.6M 1s
  1000K .......... .......... .......... .......... .......... 13% 9.75M 1s
  1050K .......... .......... .......... .......... .......... 14%  314M 1s
  1100K .......... .......... .......... .......... .......... 14% 98.7M 1s
  1150K .......... .......... .......... .......... .......... 15% 44.0M 1s
  1200K .......... .......... .......... .......... .......... 16% 3.17M 1s
  1250K .......... .......... .......... .......... .......... 16% 28.2M 1s
  1300K .......... .......... .......... .......... .......... 17% 38.0M 1s
  1350K .......... .......... .......... .......... .......... 18% 38.8M 1s
  1400K .......... .......... .......... .......... .......... 18% 35.8M 1s
  1450K .......... .......... .......... .......... .......... 19% 25.1M 1s
  1500K .......... .......... .......... .......... .......... 20% 87.2M 1s
  1550K .......... .......... .......... .......... .......... 20% 35.2M 1s
  1600K .......... .......... .......... .......... .......... 21% 33.1M 1s
  1650K .......... .......... .......... .......... .......... 21% 44.6M 1s
  1700K .......... .......... .......... .......... .......... 22% 25.6M 1s
  1750K .......... .......... .......... .......... .......... 23%  298M 1s
  1800K .......... .......... .......... .......... .......... 23% 19.1M 1s
  1850K .......... .......... .......... .......... .......... 24%  265M 1s
  1900K .......... .......... .......... .......... .......... 25% 53.6M 1s
  1950K .......... .......... .......... .......... .......... 25% 33.5M 1s
  2000K .......... .......... .......... .......... .......... 26% 67.9M 1s
  2050K .......... .......... .......... .......... .......... 27% 95.8M 1s
  2100K .......... .......... .......... .......... .......... 27% 13.0M 1s
  2150K .......... .......... .......... .......... .......... 28% 53.8M 1s
  2200K .......... .......... .......... .......... .......... 29% 72.1M 1s
  2250K .......... .......... .......... .......... .......... 29%  273M 1s
  2300K .......... .......... .......... .......... .......... 30% 48.3M 1s
  2350K .......... .......... .......... .......... .......... 31% 46.9M 1s
  2400K .......... .......... .......... .......... .......... 31% 4.53M 1s
  2450K .......... .......... .......... .......... .......... 32%  118M 1s
  2500K .......... .......... .......... .......... .......... 32% 19.0M 1s
  2550K .......... .......... .......... .......... .......... 33% 24.7M 1s
  2600K .......... .......... .......... .......... .......... 34%  274M 0s
  2650K .......... .......... .......... .......... .......... 34%  320M 0s
  2700K .......... .......... .......... .......... .......... 35% 30.4M 0s
  2750K .......... .......... .......... .......... .......... 36%  219M 0s
  2800K .......... .......... .......... .......... .......... 36%  304M 0s
  2850K .......... .......... .......... .......... .......... 37% 29.5M 0s
  2900K .......... .......... .......... .......... .......... 38%  326M 0s
  2950K .......... .......... .......... .......... .......... 38%  321M 0s
  3000K .......... .......... .......... .......... .......... 39% 27.8M 0s
  3050K .......... .......... .......... .......... .......... 40%  206M 0s
  3100K .......... .......... .......... .......... .......... 40%  305M 0s
  3150K .......... .......... .......... .......... .......... 41% 33.0M 0s
  3200K .......... .......... .......... .......... .......... 42%  221M 0s
  3250K .......... .......... .......... .......... .......... 42%  316M 0s
  3300K .......... .......... .......... .......... .......... 43% 29.7M 0s
  3350K .......... .......... .......... .......... .......... 43%  280M 0s
  3400K .......... .......... .......... .......... .......... 44% 39.5M 0s
  3450K .......... .......... .......... .......... .......... 45%  278M 0s
  3500K .......... .......... .......... .......... .......... 45%  281M 0s
  3550K .......... .......... .......... .......... .......... 46%  326M 0s
  3600K .......... .......... .......... .......... .......... 47% 34.7M 0s
  3650K .......... .......... .......... .......... .......... 47% 48.3M 0s
  3700K .......... .......... .......... .......... .......... 48%  298M 0s
  3750K .......... .......... .......... .......... .......... 49%  273M 0s
  3800K .......... .......... .......... .......... .......... 49% 20.3M 0s
  3850K .......... .......... .......... .......... .......... 50%  320M 0s
  3900K .......... .......... .......... .......... .......... 51%  190M 0s
  3950K .......... .......... .......... .......... .......... 51%  316M 0s
  4000K .......... .......... .......... .......... .......... 52%  333M 0s
  4050K .......... .......... .......... .......... .......... 53% 47.1M 0s
  4100K .......... .......... .......... .......... .......... 53% 41.3M 0s
  4150K .......... .......... .......... .......... .......... 54% 90.4M 0s
  4200K .......... .......... .......... .......... .......... 54%  312M 0s
  4250K .......... .......... .......... .......... .......... 55% 37.7M 0s
  4300K .......... .......... .......... .......... .......... 56%  136M 0s
  4350K .......... .......... .......... .......... .......... 56%  216M 0s
  4400K .......... .......... .......... .......... .......... 57%  322M 0s
  4450K .......... .......... .......... .......... .......... 58% 95.8M 0s
  4500K .......... .......... .......... .......... .......... 58% 85.3M 0s
  4550K .......... .......... .......... .......... .......... 59% 77.4M 0s
  4600K .......... .......... .......... .......... .......... 60%  129M 0s
  4650K .......... .......... .......... .......... .......... 60%  191M 0s
  4700K .......... .......... .......... .......... .......... 61% 59.6M 0s
  4750K .......... .......... .......... .......... .......... 62%  268M 0s
  4800K .......... .......... .......... .......... .......... 62%  228M 0s
  4850K .......... .......... .......... .......... .......... 63%  272M 0s
  4900K .......... .......... .......... .......... .......... 64% 4.78M 0s
  4950K .......... .......... .......... .......... .......... 64%  304M 0s
  5000K .......... .......... .......... .......... .......... 65% 22.1M 0s
  5050K .......... .......... .......... .......... .......... 65%  287M 0s
  5100K .......... .......... .......... .......... .......... 66%  323M 0s
  5150K .......... .......... .......... .......... .......... 67% 60.5M 0s
  5200K .......... .......... .......... .......... .......... 67%  309M 0s
  5250K .......... .......... .......... .......... .......... 68% 50.8M 0s
  5300K .......... .......... .......... .......... .......... 69%  230M 0s
  5350K .......... .......... .......... .......... .......... 69%  246M 0s
  5400K .......... .......... .......... .......... .......... 70% 59.2M 0s
  5450K .......... .......... .......... .......... .......... 71%  307M 0s
  5500K .......... .......... .......... .......... .......... 71%  153M 0s
  5550K .......... .......... .......... .......... .......... 72%  295M 0s
  5600K .......... .......... .......... .......... .......... 73% 86.7M 0s
  5650K .......... .......... .......... .......... .......... 73%  209M 0s
  5700K .......... .......... .......... .......... .......... 74% 82.9M 0s
  5750K .......... .......... .......... .......... .......... 75%  205M 0s
  5800K .......... .......... .......... .......... .......... 75%  114M 0s
  5850K .......... .......... .......... .......... .......... 76%  289M 0s
  5900K .......... .......... .......... .......... .......... 76% 51.2M 0s
  5950K .......... .......... .......... .......... .......... 77%  180M 0s
  6000K .......... .......... .......... .......... .......... 78%  327M 0s
  6050K .......... .......... .......... .......... .......... 78% 66.1M 0s
  6100K .......... .......... .......... .......... .......... 79%  278M 0s
  6150K .......... .......... .......... .......... .......... 80%  202M 0s
  6200K .......... .......... .......... .......... .......... 80%  216M 0s
  6250K .......... .......... .......... .......... .......... 81%  268M 0s
  6300K .......... .......... .......... .......... .......... 82%  217M 0s
  6350K .......... .......... .......... .......... .......... 82%  315M 0s
  6400K .......... .......... .......... .......... .......... 83% 33.6M 0s
  6450K .......... .......... .......... .......... .......... 84%  292M 0s
  6500K .......... .......... .......... .......... .......... 84%  212M 0s
  6550K .......... .......... .......... .......... .......... 85%  325M 0s
  6600K .......... .......... .......... .......... .......... 85%  111M 0s
  6650K .......... .......... .......... .......... .......... 86% 61.2M 0s
  6700K .......... .......... .......... .......... .......... 87%  225M 0s
  6750K .......... .......... .......... .......... .......... 87%  233M 0s
  6800K .......... .......... .......... .......... .......... 88%  297M 0s
  6850K .......... .......... .......... .......... .......... 89%  223M 0s
  6900K .......... .......... .......... .......... .......... 89% 55.8M 0s
  6950K .......... .......... .......... .......... .......... 90% 61.9M 0s
  7000K .......... .......... .......... .......... .......... 91%  269M 0s
  7050K .......... .......... .......... .......... .......... 91%  228M 0s
  7100K .......... .......... .......... .......... .......... 92% 82.2M 0s
  7150K .......... .......... .......... .......... .......... 93% 61.9M 0s
  7200K .......... .......... .......... .......... .......... 93%  173M 0s
  7250K .......... .......... .......... .......... .......... 94%  282M 0s
  7300K .......... .......... .......... .......... .......... 95%  321M 0s
  7350K .......... .......... .......... .......... .......... 95% 68.2M 0s
  7400K .......... .......... .......... .......... .......... 96% 76.7M 0s
  7450K .......... .......... .......... .......... .......... 96%  271M 0s
  7500K .......... .......... .......... .......... .......... 97%  314M 0s
  7550K .......... .......... .......... .......... .......... 98%  340M 0s
  7600K .......... .......... .......... .......... .......... 98%  340M 0s
  7650K .......... .......... .......... .......... .......... 99% 76.4M 0s
  7700K .......... .......... .......... ..                   100% 46.2M=0.3s

2025-03-11 09:46:43 (24.1 MB/s) - ‘trojan-go/trojan-go-linux-amd64.zip’ saved [7918291/7918291]

2025/03/11 09:46:43 Unzipping trojan-go...
2025/03/11 09:46:44 Command output: Archive:  trojan-go/trojan-go-linux-amd64.zip
  inflating: trojan-go/trojan-go     
  inflating: trojan-go/example/client.json  
  inflating: trojan-go/example/client.yaml  
  inflating: trojan-go/example/server.json  
  inflating: trojan-go/example/server.yaml  
  inflating: trojan-go/example/trojan-go.service  
  inflating: trojan-go/example/trojan-go@.service  
  inflating: trojan-go/geoip-only-cn-private.dat  
  inflating: trojan-go/geoip.dat     
  inflating: trojan-go/geosite.dat   
2025/03/11 09:46:44 Removing trojan-go zip file...
2025/03/11 09:46:44 Installing acme.sh...
2025/03/11 09:46:47 Command output:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100  1032    0  1032    0     0   3649      0 --:--:-- --:--:-- --:--:--  3659
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100  220k  100  220k    0     0   960k      0 --:--:-- --:--:-- --:--:--  964k
[Tue Mar 11 09:46:44 CST 2025] Installing from online archive.
[Tue Mar 11 09:46:44 CST 2025] Downloading https://github.com/acmesh-official/acme.sh/archive/master.tar.gz
[Tue Mar 11 09:46:45 CST 2025] Extracting master.tar.gz
[Tue Mar 11 09:46:45 CST 2025] It is recommended to install socat first.
[Tue Mar 11 09:46:45 CST 2025] We use socat for the standalone server, which is used for standalone mode.
[Tue Mar 11 09:46:45 CST 2025] If you don't want to use standalone mode, you may ignore this warning.
[Tue Mar 11 09:46:45 CST 2025] Installing to /home/fanice/.acme.sh
[Tue Mar 11 09:46:45 CST 2025] Installed to /home/fanice/.acme.sh/acme.sh
[Tue Mar 11 09:46:45 CST 2025] Installing alias to '/home/fanice/.bashrc'
[Tue Mar 11 09:46:45 CST 2025] Close and reopen your terminal to start using acme.sh
[Tue Mar 11 09:46:45 CST 2025] Installing cron job
59 16 * * * "/home/fanice/.acme.sh"/acme.sh --cron --home "/home/fanice/.acme.sh" > /dev/null
[Tue Mar 11 09:46:45 CST 2025] bash has been found. Changing the shebang to use bash as preferred.
[Tue Mar 11 09:46:47 CST 2025] OK
[Tue Mar 11 09:46:47 CST 2025] Install success!
2025/03/11 09:46:47 Setting alias for acme.sh...
2025/03/11 09:46:47 Content already exists in /home/fanice/.bashrc, skipping...
2025/03/11 09:46:47 Alias added to /home/fanice/.bashrc: alias acme.sh="/home/fanice/.acme.sh/acme.sh"
2025/03/11 09:46:47 Please run 'source ~/.bashrc' or restart your shell to apply the alias.
2025/03/11 09:46:47 Installing nginx...
2025/03/11 09:46:48 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
nginx is already the newest version (1.24.0-2ubuntu7.1).
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
2025/03/11 09:46:48 Installing fail2ban...
2025/03/11 09:46:49 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
fail2ban is already the newest version (1.0.2-3ubuntu0.1).
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
2025/03/11 09:46:49 Installing ZeroTier...
2025/03/11 09:46:49 Adding ZeroTier GPG key...
2025/03/11 09:46:52 GPG key added: 
2025/03/11 09:46:52 Adding ZeroTier repository...
2025/03/11 09:46:52 Content already exists in /etc/apt/sources.list.d/zerotier.list, skipping...
2025/03/11 09:46:52 Updating package index for ZeroTier...
2025/03/11 09:46:57 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Hit:1 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble InRelease
Hit:2 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:3 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble-backports InRelease
Get:4 http://download.zerotier.com/debian/jammy jammy InRelease [20.5 kB]
Hit:5 https://packages.cloud.google.com/apt google-cloud-ops-agent-noble-2 InRelease
Hit:6 http://security.ubuntu.com/ubuntu noble-security InRelease
Fetched 20.5 kB in 1s (18.9 kB/s)
Reading package lists...
Building dependency tree...
Reading state information...
1 package can be upgraded. Run 'apt list --upgradable' to see it.
2025/03/11 09:46:57 Installing zerotier-one...
2025/03/11 09:46:58 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
zerotier-one is already the newest version (1.14.2).
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
2025/03/11 09:46:58 Dependencies installed successfully.
2025/03/11 09:46:58 trojan-go verified successfully.
2025/03/11 09:46:58 acme.sh verified successfully.
2025/03/11 09:46:58 nginx verified successfully.
2025/03/11 09:46:58 zerotier verified successfully.
2025/03/11 09:46:58 Some tools failed verification: verification errors: fail2ban failed to run: exit status 255 (ensure it’s installed correctly)
2025/03/11 09:46:58 Initialization completed.
