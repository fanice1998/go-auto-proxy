2025/03/11 09:30:07 Initializing go-auto-proxy...
2025/03/11 09:30:07 Current directory permissions verified.
2025/03/11 09:30:07 Current user: fanice (UID: 1001)
2025/03/11 09:30:07 User has passwordless sudo privileges, proceeding...
2025/03/11 09:30:08 System Info: {OS:linux Version:Ubuntu 24.04.2 LTS Architecture:amd64 ExternalIP:35.185.174.224 InternalIP:10.140.0.5}
2025/03/11 09:30:08 Directory trojan-go already exists.
2025/03/11 09:30:09 Removing existing trojan-go directory...
2025/03/11 09:30:09 trojan-go directory removed.
2025/03/11 09:30:09 Updating package index...
2025/03/11 09:30:16 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Hit:1 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble InRelease
Hit:2 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:3 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble-backports InRelease
Get:4 http://download.zerotier.com/debian/jammy jammy InRelease [20.5 kB]
Hit:5 https://packages.cloud.google.com/apt google-cloud-ops-agent-noble-2 InRelease
Hit:6 http://security.ubuntu.com/ubuntu noble-security InRelease
Fetched 20.5 kB in 1s (16.0 kB/s)
Reading package lists...
Building dependency tree...
Reading state information...
1 package can be upgraded. Run 'apt list --upgradable' to see it.
2025/03/11 09:30:16 Installing unzip...
2025/03/11 09:30:19 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
unzip is already the newest version (6.0-28ubuntu4.1).
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
2025/03/11 09:30:19 Creating trojan-go directory...
2025/03/11 09:30:19 Downloading trojan-go...
2025/03/11 09:30:22 Command output: --2025-03-11 09:30:19--  https://github.com/p4gefau1t/trojan-go/releases/download/v0.10.6/trojan-go-linux-amd64.zip
Resolving github.com (github.com)... 20.27.177.113
Connecting to github.com (github.com)|20.27.177.113|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/248025303/ca7ab69d-e322-4ac4-8f5f-efd0cab6c900?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250311%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250311T013020Z&X-Amz-Expires=300&X-Amz-Signature=b1866eb4d39bc4d355dec75b4d08ea3c8f7968b2bd85e76917a2f167bc07107d&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Dtrojan-go-linux-amd64.zip&response-content-type=application%2Foctet-stream [following]
--2025-03-11 09:30:20--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/248025303/ca7ab69d-e322-4ac4-8f5f-efd0cab6c900?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=releaseassetproduction%2F20250311%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250311T013020Z&X-Amz-Expires=300&X-Amz-Signature=b1866eb4d39bc4d355dec75b4d08ea3c8f7968b2bd85e76917a2f167bc07107d&X-Amz-SignedHeaders=host&response-content-disposition=attachment%3B%20filename%3Dtrojan-go-linux-amd64.zip&response-content-type=application%2Foctet-stream
Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ...
Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 7918291 (7.6M) [application/octet-stream]
Saving to: ‘trojan-go/trojan-go-linux-amd64.zip’

     0K .......... .......... .......... .......... ..........  0%  998K 8s
    50K .......... .......... .......... .......... ..........  1% 4.28M 5s
   100K .......... .......... .......... .......... ..........  1% 1.83M 4s
   150K .......... .......... .......... .......... ..........  2% 5.71M 4s
   200K .......... .......... .......... .......... ..........  3% 5.90M 3s
   250K .......... .......... .......... .......... ..........  3% 2.53M 3s
   300K .......... .......... .......... .......... ..........  4% 12.3M 3s
   350K .......... .......... .......... .......... ..........  5% 7.08M 2s
   400K .......... .......... .......... .......... ..........  5% 11.5M 2s
   450K .......... .......... .......... .......... ..........  6% 9.99M 2s
   500K .......... .......... .......... .......... ..........  7% 9.64M 2s
   550K .......... .......... .......... .......... ..........  7% 3.24M 2s
   600K .......... .......... .......... .......... ..........  8%  210M 2s
   650K .......... .......... .......... .......... ..........  9% 4.64M 2s
   700K .......... .......... .......... .......... ..........  9% 17.3M 2s
   750K .......... .......... .......... .......... .......... 10%  302M 2s
   800K .......... .......... .......... .......... .......... 10%  214M 1s
   850K .......... .......... .......... .......... .......... 11%  303M 1s
   900K .......... .......... .......... .......... .......... 12% 5.88M 1s
   950K .......... .......... .......... .......... .......... 12%  117M 1s
  1000K .......... .......... .......... .......... .......... 13%  132M 1s
  1050K .......... .......... .......... .......... .......... 14% 7.99M 1s
  1100K .......... .......... .......... .......... .......... 14% 26.0M 1s
  1150K .......... .......... .......... .......... .......... 15% 6.44M 1s
  1200K .......... .......... .......... .......... .......... 16% 5.37M 1s
  1250K .......... .......... .......... .......... .......... 16%  110M 1s
  1300K .......... .......... .......... .......... .......... 17% 4.22M 1s
  1350K .......... .......... .......... .......... .......... 18%  216M 1s
  1400K .......... .......... .......... .......... .......... 18% 13.5M 1s
  1450K .......... .......... .......... .......... .......... 19%  125M 1s
  1500K .......... .......... .......... .......... .......... 20% 5.53M 1s
  1550K .......... .......... .......... .......... .......... 20%  237M 1s
  1600K .......... .......... .......... .......... .......... 21% 9.85M 1s
  1650K .......... .......... .......... .......... .......... 21%  102M 1s
  1700K .......... .......... .......... .......... .......... 22%  108M 1s
  1750K .......... .......... .......... .......... .......... 23% 7.55M 1s
  1800K .......... .......... .......... .......... .......... 23% 4.89M 1s
  1850K .......... .......... .......... .......... .......... 24%  199M 1s
  1900K .......... .......... .......... .......... .......... 25%  288M 1s
  1950K .......... .......... .......... .......... .......... 25%  321M 1s
  2000K .......... .......... .......... .......... .......... 26%  252M 1s
  2050K .......... .......... .......... .......... .......... 27% 4.72M 1s
  2100K .......... .......... .......... .......... .......... 27% 6.35M 1s
  2150K .......... .......... .......... .......... .......... 28% 53.5M 1s
  2200K .......... .......... .......... .......... .......... 29% 10.3M 1s
  2250K .......... .......... .......... .......... .......... 29% 3.90M 1s
  2300K .......... .......... .......... .......... .......... 30%  108M 1s
  2350K .......... .......... .......... .......... .......... 31%  132M 1s
  2400K .......... .......... .......... .......... .......... 31% 2.01M 1s
  2450K .......... .......... .......... .......... .......... 32%  180M 1s
  2500K .......... .......... .......... .......... .......... 32%  156M 1s
  2550K .......... .......... .......... .......... .......... 33%  328M 1s
  2600K .......... .......... .......... .......... .......... 34% 4.44M 1s
  2650K .......... .......... .......... .......... .......... 34% 10.7M 1s
  2700K .......... .......... .......... .......... .......... 35%  146M 1s
  2750K .......... .......... .......... .......... .......... 36% 6.26M 1s
  2800K .......... .......... .......... .......... .......... 36% 6.87M 1s
  2850K .......... .......... .......... .......... .......... 37% 8.43M 1s
  2900K .......... .......... .......... .......... .......... 38% 9.64M 1s
  2950K .......... .......... .......... .......... .......... 38% 56.4M 1s
  3000K .......... .......... .......... .......... .......... 39%  124M 1s
  3050K .......... .......... .......... .......... .......... 40% 3.18M 1s
  3100K .......... .......... .......... .......... .......... 40%  124M 1s
  3150K .......... .......... .......... .......... .......... 41%  182M 1s
  3200K .......... .......... .......... .......... .......... 42% 3.63M 1s
  3250K .......... .......... .......... .......... .......... 42%  108M 1s
  3300K .......... .......... .......... .......... .......... 43% 6.15M 1s
  3350K .......... .......... .......... .......... .......... 43% 6.28M 1s
  3400K .......... .......... .......... .......... .......... 44%  119M 1s
  3450K .......... .......... .......... .......... .......... 45%  104M 0s
  3500K .......... .......... .......... .......... .......... 45%  136M 0s
  3550K .......... .......... .......... .......... .......... 46% 2.18M 0s
  3600K .......... .......... .......... .......... .......... 47% 2.86M 1s
  3650K .......... .......... .......... .......... .......... 47%  148M 0s
  3700K .......... .......... .......... .......... .......... 48%  162M 0s
  3750K .......... .......... .......... .......... .......... 49% 14.7M 0s
  3800K .......... .......... .......... .......... .......... 49% 8.63M 0s
  3850K .......... .......... .......... .......... .......... 50% 24.5M 0s
  3900K .......... .......... .......... .......... .......... 51% 11.0M 0s
  3950K .......... .......... .......... .......... .......... 51%  167M 0s
  4000K .......... .......... .......... .......... .......... 52%  129M 0s
  4050K .......... .......... .......... .......... .......... 53% 3.41M 0s
  4100K .......... .......... .......... .......... .......... 53%  172M 0s
  4150K .......... .......... .......... .......... .......... 54%  183M 0s
  4200K .......... .......... .......... .......... .......... 54% 8.70M 0s
  4250K .......... .......... .......... .......... .......... 55% 8.64M 0s
  4300K .......... .......... .......... .......... .......... 56%  138M 0s
  4350K .......... .......... .......... .......... .......... 56% 11.0M 0s
  4400K .......... .......... .......... .......... .......... 57% 21.4M 0s
  4450K .......... .......... .......... .......... .......... 58%  166M 0s
  4500K .......... .......... .......... .......... .......... 58%  168M 0s
  4550K .......... .......... .......... .......... .......... 59% 6.77M 0s
  4600K .......... .......... .......... .......... .......... 60% 7.30M 0s
  4650K .......... .......... .......... .......... .......... 60% 28.3M 0s
  4700K .......... .......... .......... .......... .......... 61%  121M 0s
  4750K .......... .......... .......... .......... .......... 62% 9.19M 0s
  4800K .......... .......... .......... .......... .......... 62%  152M 0s
  4850K .......... .......... .......... .......... .......... 63% 8.31M 0s
  4900K .......... .......... .......... .......... .......... 64% 9.22M 0s
  4950K .......... .......... .......... .......... .......... 64%  152M 0s
  5000K .......... .......... .......... .......... .......... 65%  129M 0s
  5050K .......... .......... .......... .......... .......... 65%  167M 0s
  5100K .......... .......... .......... .......... .......... 66% 5.72M 0s
  5150K .......... .......... .......... .......... .......... 67% 10.4M 0s
  5200K .......... .......... .......... .......... .......... 67% 12.3M 0s
  5250K .......... .......... .......... .......... .......... 68% 24.6M 0s
  5300K .......... .......... .......... .......... .......... 69% 14.7M 0s
  5350K .......... .......... .......... .......... .......... 69% 7.26M 0s
  5400K .......... .......... .......... .......... .......... 70% 57.9M 0s
  5450K .......... .......... .......... .......... .......... 71%  155M 0s
  5500K .......... .......... .......... .......... .......... 71% 10.8M 0s
  5550K .......... .......... .......... .......... .......... 72%  137M 0s
  5600K .......... .......... .......... .......... .......... 73% 5.87M 0s
  5650K .......... .......... .......... .......... .......... 73% 10.7M 0s
  5700K .......... .......... .......... .......... .......... 74% 10.3M 0s
  5750K .......... .......... .......... .......... .......... 75%  147M 0s
  5800K .......... .......... .......... .......... .......... 75% 11.0M 0s
  5850K .......... .......... .......... .......... .......... 76% 5.13M 0s
  5900K .......... .......... .......... .......... .......... 76% 74.8M 0s
  5950K .......... .......... .......... .......... .......... 77%  125M 0s
  6000K .......... .......... .......... .......... .......... 78% 6.71M 0s
  6050K .......... .......... .......... .......... .......... 78% 28.4M 0s
  6100K .......... .......... .......... .......... .......... 79% 20.8M 0s
  6150K .......... .......... .......... .......... .......... 80%  142M 0s
  6200K .......... .......... .......... .......... .......... 80%  178M 0s
  6250K .......... .......... .......... .......... .......... 81% 10.3M 0s
  6300K .......... .......... .......... .......... .......... 82% 10.6M 0s
  6350K .......... .......... .......... .......... .......... 82% 14.2M 0s
  6400K .......... .......... .......... .......... .......... 83%  173M 0s
  6450K .......... .......... .......... .......... .......... 84% 8.96M 0s
  6500K .......... .......... .......... .......... .......... 84% 25.4M 0s
  6550K .......... .......... .......... .......... .......... 85% 29.4M 0s
  6600K .......... .......... .......... .......... .......... 85% 12.6M 0s
  6650K .......... .......... .......... .......... .......... 86% 8.93M 0s
  6700K .......... .......... .......... .......... .......... 87%  146M 0s
  6750K .......... .......... .......... .......... .......... 87%  124M 0s
  6800K .......... .......... .......... .......... .......... 88% 4.34M 0s
  6850K .......... .......... .......... .......... .......... 89% 43.0M 0s
  6900K .......... .......... .......... .......... .......... 89%  166M 0s
  6950K .......... .......... .......... .......... .......... 90%  172M 0s
  7000K .......... .......... .......... .......... .......... 91% 9.69M 0s
  7050K .......... .......... .......... .......... .......... 91%  156M 0s
  7100K .......... .......... .......... .......... .......... 92% 86.4M 0s
  7150K .......... .......... .......... .......... .......... 93% 5.83M 0s
  7200K .......... .......... .......... .......... .......... 93%  149M 0s
  7250K .......... .......... .......... .......... .......... 94% 15.1M 0s
  7300K .......... .......... .......... .......... .......... 95% 12.0M 0s
  7350K .......... .......... .......... .......... .......... 95% 8.59M 0s
  7400K .......... .......... .......... .......... .......... 96%  163M 0s
  7450K .......... .......... .......... .......... .......... 96% 9.62M 0s
  7500K .......... .......... .......... .......... .......... 97% 84.5M 0s
  7550K .......... .......... .......... .......... .......... 98%  126M 0s
  7600K .......... .......... .......... .......... .......... 98% 6.76M 0s
  7650K .......... .......... .......... .......... .......... 99% 20.0M 0s
  7700K .......... .......... .......... ..                   100%  160M=0.7s

2025-03-11 09:30:22 (10.7 MB/s) - ‘trojan-go/trojan-go-linux-amd64.zip’ saved [7918291/7918291]

2025/03/11 09:30:22 Unzipping trojan-go...
2025/03/11 09:30:22 Command output: Archive:  trojan-go/trojan-go-linux-amd64.zip
  inflating: trojan-go/trojan-go     
  inflating: trojan-go/example/client.json  
  inflating: trojan-go/example/client.yaml  
  inflating: trojan-go/example/server.json  
  inflating: trojan-go/example/server.yaml  
  inflating: trojan-go/example/trojan-go.service  
  inflating: trojan-go/example/trojan-go@.service  
  inflating: trojan-go/geoip-only-cn-private.dat  
  inflating: trojan-go/geoip.dat     
  inflating: trojan-go/geosite.dat   
2025/03/11 09:30:22 Removing trojan-go zip file...
2025/03/11 09:30:22 Installing acme.sh...
2025/03/11 09:30:26 Command output:   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100  1032    0  1032    0     0   4327      0 --:--:-- --:--:-- --:--:--  4317
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100  220k  100  220k    0     0   844k      0 --:--:-- --:--:-- --:--:--  846k
[Tue Mar 11 09:30:23 CST 2025] Installing from online archive.
[Tue Mar 11 09:30:23 CST 2025] Downloading https://github.com/acmesh-official/acme.sh/archive/master.tar.gz
[Tue Mar 11 09:30:24 CST 2025] Extracting master.tar.gz
[Tue Mar 11 09:30:24 CST 2025] It is recommended to install socat first.
[Tue Mar 11 09:30:24 CST 2025] We use socat for the standalone server, which is used for standalone mode.
[Tue Mar 11 09:30:24 CST 2025] If you don't want to use standalone mode, you may ignore this warning.
[Tue Mar 11 09:30:24 CST 2025] Installing to /home/fanice/.acme.sh
[Tue Mar 11 09:30:24 CST 2025] Installed to /home/fanice/.acme.sh/acme.sh
[Tue Mar 11 09:30:24 CST 2025] Installing alias to '/home/fanice/.bashrc'
[Tue Mar 11 09:30:24 CST 2025] Close and reopen your terminal to start using acme.sh
[Tue Mar 11 09:30:24 CST 2025] Installing cron job
59 16 * * * "/home/fanice/.acme.sh"/acme.sh --cron --home "/home/fanice/.acme.sh" > /dev/null
[Tue Mar 11 09:30:24 CST 2025] bash has been found. Changing the shebang to use bash as preferred.
[Tue Mar 11 09:30:26 CST 2025] OK
[Tue Mar 11 09:30:26 CST 2025] Install success!
2025/03/11 09:30:26 Setting alias for acme.sh...
2025/03/11 09:30:26 Content already exists in /home/fanice/.bashrc, skipping...
2025/03/11 09:30:26 Alias added to /home/fanice/.bashrc: alias acme.sh="/home/fanice/.acme.sh/acme.sh"
2025/03/11 09:30:26 Please run 'source ~/.bashrc' or restart your shell to apply the alias.
2025/03/11 09:30:26 Installing nginx...
2025/03/11 09:30:27 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
nginx is already the newest version (1.24.0-2ubuntu7.1).
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
2025/03/11 09:30:27 Installing fail2ban...
2025/03/11 09:30:28 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
fail2ban is already the newest version (1.0.2-3ubuntu0.1).
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
2025/03/11 09:30:28 Installing ZeroTier...
2025/03/11 09:30:28 Adding ZeroTier GPG key...
2025/03/11 09:30:31 GPG key added: 
2025/03/11 09:30:31 Adding ZeroTier repository...
2025/03/11 09:30:31 Content already exists in /etc/apt/sources.list.d/zerotier.list, skipping...
2025/03/11 09:30:31 Updating package index for ZeroTier...
2025/03/11 09:30:36 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Hit:1 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble InRelease
Hit:2 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:3 http://asia-east1.gce.archive.ubuntu.com/ubuntu noble-backports InRelease
Get:4 http://download.zerotier.com/debian/jammy jammy InRelease [20.5 kB]
Hit:5 https://packages.cloud.google.com/apt google-cloud-ops-agent-noble-2 InRelease
Hit:6 http://security.ubuntu.com/ubuntu noble-security InRelease
Fetched 20.5 kB in 1s (15.4 kB/s)
Reading package lists...
Building dependency tree...
Reading state information...
1 package can be upgraded. Run 'apt list --upgradable' to see it.
2025/03/11 09:30:36 Installing zerotier-one...
2025/03/11 09:30:37 Command output: 
WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
zerotier-one is already the newest version (1.14.2).
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
2025/03/11 09:30:37 Dependencies installed successfully.
2025/03/11 09:30:37 trojan-go verified successfully.
2025/03/11 09:30:37 acme.sh verified successfully.
2025/03/11 09:30:37 nginx verified successfully.
2025/03/11 09:30:37 zerotier verified successfully.
2025/03/11 09:30:37 Some tools failed verification: verification errors: fail2ban failed to run: exit status 255 (ensure it’s installed correctly)
2025/03/11 09:30:37 Initialization completed.
